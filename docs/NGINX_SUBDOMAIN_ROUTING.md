# 使用 Nginx 管理二级域名跳转的可行性

当所有二级域名都解析到同一台入口服务器时，可以通过 Nginx 的 `map`、`server_name`、`proxy_pass` 等指令实现基于子域名的请求路由或跳转，无需频繁修改 DNS 记录。关键前提是：

- DNS 层需要一个泛解析（`*.example.com`）或一组静态解析指向入口服务器 IP。
- 客户端访问时携带的 `Host` 头符合预期，例如 `api.example.com`。

在此基础上，Nginx 可以：

1. **反向代理**：将不同子域的流量转发到不同的后端服务。
2. **静态跳转**：针对部分子域直接返回 301/302 响应，实现短链或营销链接需求。
3. **兜底策略**：未配置的子域统一回退到默认站点或返回 404。

本仓库的 `infra/nginx/conf.d/subdomains.conf` 给出一个最小可行示例，配套的 Docker Compose 能够在本地启动三组静态页面和一个 FastAPI 后端，方便验证路由效果。
