<tr id="short-link-row-{{ item.id }}" class="theme-table__row theme-table__row--editing">
  <td colspan="{{ 5 + (1 if show_user_column else 0) }}" class="theme-table__cell">
    <form
      class="theme-form"
      hx-put="/api/links/{{ item.id }}"
      hx-target="#link-feedback"
      hx-swap="innerHTML"
      data-success-event="refresh-links"
    >
      <div class="theme-form__grid theme-form__grid--two">
        <div class="theme-field">
          <label for="code-{{ item.id }}" class="theme-label">短链</label>
          <div class="theme-input-affix">
            <span class="theme-input-affix__addon theme-input-affix__addon--prefix">{{ short_link_prefix }}</span>
            <input
              id="code-{{ item.id }}"
              name="code"
              type="text"
              required
              value="{{ item.code }}"
              class="theme-input-affix__input"
              autocomplete="off"
              spellcheck="false"
            />
          </div>
        </div>
        <div class="theme-field theme-form__span-full theme-field--constrained">
          <label for="target-{{ item.id }}" class="theme-label">目标地址</label>
          <input
            id="target-{{ item.id }}"
            name="target_url"
            type="url"
            required
            value="{{ item.target_url }}"
            class="theme-input"
          />
        </div>
      </div>
      <div class="theme-form__footer">
        <p class="theme-helper">提交后会立即更新短链并刷新列表。</p>
        <div class="theme-form__actions">
          <button
            type="button"
            class="theme-button theme-button--ghost theme-button--sm"
            hx-get="/admin/links/{{ item.id }}/row"
            hx-target="closest tr"
            hx-swap="outerHTML"
          >
            取消
          </button>
          <button type="submit" class="theme-button theme-button--solid theme-button--sm">
            保存
          </button>
        </div>
      </div>
    </form>
  </td>
</tr>
